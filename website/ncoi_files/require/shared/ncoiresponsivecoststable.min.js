/*!*
-------------------------------
ncoiResponsiveCostsTable plugin
-------------------------------
version:     1.0
last update: July 7th, 2014
author:      Maarten Zilverberg
-------------------------------
**/
/*!jslint sloppy: true, white: true */
define(["jquery"], function (jQuery) {

!function (e) { function t(t, s) { if (!t.hasClass(s.selfClass)) { s.beforeCreate.call(); var n = [], i = []; t.addClass(s.selfClass), t.find("tr").each(function (s) { $tr = e(this), $tr.children("td").not(":first").each(0 == s ? function (e) { $td = $tr.children("td").not(":first").eq(e); var t = $td.children("strong").text(); n[t] = [], i.push(t) } : function (e) { $td = $tr.children("td").not(":first").eq(e); var s = t.find("tr:first").children("td").eq(e + 1).children("strong").text(), o = $tr.children(":first").text(), a = "<span>" + $td.text() + "</span>" + o; if (void 0 != $td.attr("colspan")) for (var l = 0; l < i.length; l++) n[i[l]].push(a); else n[s].push(a) }) }); for (var o = '<div class="' + s.mobileClass + '"><h2>' + t.find("td:first").text() + "</h2>", a = 0; a < i.length; a++) { o += "<h4>" + i[a] + "</h4><ul>"; for (var l = 0; l < n[i[a]].length; l++) o += "<li>" + n[i[a]][l] + "</li>"; o += "</ul>" } o += "</div>", t.after(o), s.afterCreate.call() } } var s = { init: function (n) { return this.each(function () { var i = e(this), o = i.data("ncoiResponsiveCostsTable"); "undefined" == typeof o ? (o = e.extend({}, e.fn.ncoiResponsiveCostsTable.defaults, n), i.data("ncoiResponsiveCostsTable", o)) : o = e.extend({}, o, n), t(i, o), i.next().find("h4").unbind("click").on("click", { settings: o }, s.toggle) }) }, destroy: function (t) { return e(this).each(function () { var s = e(this), n = e.extend({}, s.data("ncoiResponsiveCostsTable"), t); s.removeClass(n.selfClass), s.next().hasClass(n.mobileClass) && s.next().remove(), s.removeData("ncoiResponsiveCostsTable") }) }, toggle: function (t) { var s = e(this), n = e.extend({}, s.parent().prev().data("ncoiResponsiveCostsTable"), t); n.beforeToggle.call(), s.toggleClass(n.toggleClass), n.afterToggle.call() } }; e.fn.ncoiResponsiveCostsTable = function () { var t = arguments[0]; if (s[t]) t = s[t], arguments = Array.prototype.slice.call(arguments, 1); else { if ("object" != typeof t && t) return e.error("Method " + t + " does not exist in jQuery.ncoiResponsiveCostsTable"), this; t = s.init } return t.apply(this, arguments) }, e.fn.ncoiResponsiveCostsTable.defaults = { selfClass: "hidden-mobile", mobileClass: "mks mobile-kostenspecificatie visible-mobile", toggleClass: "open", beforeCreate: function () { }, afterCreate: function () { }, beforeToggle: function () { }, afterToggle: function () { } } }(jQuery, window, window.document);

});