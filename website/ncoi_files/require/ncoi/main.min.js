/*! ncoi 2015-07-02 */
define(["jquery","underscore","jquery.flexslider","currentmedia","phswap","mmteaser","querystringgrabber"],function(a,b,c,d,e,f,g){function h(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3),document.cookie=a+"="+b+";expires="+d.toUTCString()}else document.cookie=a+"="+b}function i(a){var b=document.cookie.match("(^|;) ?"+a+"=([^;]*)(;|$)");return b?b[2]:null}function j(){a(".cookies").length<1||(i("cookiefloater")&&a(".cookies").remove(),a(".cookies .accept").on("click",function(b){b.preventDefault(),a(".cookies").fadeOut("fast",function(b){a(this).remove(),h("cookiefloater",!0,180)})}))}function k(b,c){function d(){a(".lightbox span.close, .lightbox>div").off("click").on("click",function(){a("body>.lightbox").remove()}),a(".lightbox div.content").click(function(a){a.stopPropagation()})}var e=a('<div class="lightbox"><span class="bg" /><div><div class="content"><span class="close" /></div></div></div>');a("body").append(e),b?a(".lightbox .content").append('<iframe frameborder="0" src="'+c+'">'):a(".lightbox .content").append(c).addClass("nested-content"),a(".lightbox iframe").load(function(){var b=a(this);b.addClass("loaded").contents().find("html").addClass("in-lightbox").find("body").addClass("in-lightbox");var c=b.contents().find('.brochure-request input[type="submit"]');c.click(function(c){setTimeout(function(){var c=b.contents().find(".EditingFormErrorLabel").filter(function(){return"visible"==a(this).css("visibility")});0==c.length&&b.removeClass("loaded")},150)}),Modernizr.mq("only all")||b.hasClass("reloaded")||(b.get(0).contentWindow.location.reload(!0),b.addClass("reloaded"))}),d()}function k(b,c){function d(){a(".lightbox span.close, .lightbox>div").off("click").on("click",function(){a("body>.lightbox").remove()}),a(".lightbox div.content").click(function(a){a.stopPropagation()})}var e=a('<div class="lightbox"><span class="bg" /><div><div class="content"><span class="close" /></div></div></div>');a("body").append(e),b?a(".lightbox .content").append('<iframe frameborder="0" src="'+c+'">'):a(".lightbox .content").append(c).addClass("nested-content"),a(".lightbox iframe").load(function(){iframe=a(this),iframe.addClass("loaded").contents().find("html").addClass("in-lightbox").find("body").addClass("in-lightbox");var b=iframe.contents().find('.brochure-request input[type="submit"]');b.click(function(b){setTimeout(function(){var b=iframe.contents().find(".EditingFormErrorLabel").filter(function(){return"visible"==a(this).css("visibility")});0==b.length&&iframe.removeClass("loaded")},150)})}),d()}function l(){a(".faq:even").addClass("odd")}function m(){Modernizr.mq("only all")&&(window.currentmedia.setMedia(),f.mmSwitch()),e.placeholderSwap()}function n(c){function g(){i=Modernizr.mq("only all")?!0:!1,i&&(window.currentmedia.setMedia(),f.mmSwitch()),e.placeholderSwap();var a;j!==d.name&&(a=j,j=d.name,c.trigger("currentmedia:change",{from:a,to:d.name}))}var h=b.throttle(g,120);a(window).resize(h);var i,j=d.name}function o(){if(!(a(".doormat").length<1)){var b=a(".doormat .contact-footer"),c=a(">h4",b),d=a("span.tel",b).text(),e="/contact.html";telNumberClean=d.replace("-","").replace(/\s+/g,"");var f=a("<a href='tel:"+telNumberClean+"' class='btn border1 contact'><span>Bel ons:</span> "+d+"</a><a class='btn border1 tel' href='"+e+"'>Mail ons</a>");f.insertAfter(c)}}function p(){if(!(a(".course-info").length<1)){var b=a(".call-to-action a[href*=tel]"),c=b.attr("href");btn=a('<a href="'+c+'" class="call-us mobile">Bel ons nu!</a>'),btn.insertAfter(".course-info.top"),a(".course-info div.info").clone().addClass("mobile").insertAfter(".call-us.mobile"),a("div.info.mobile a").removeAttr("id")}}function q(){a("#kostenspecificatie table").length>0&&(console.log("lazy loading: ncoiresponsivecoststable"),require(["ncoiresponsivecoststable"],function(){d.isMobile&&a("#kostenspecificatie table").ncoiResponsiveCostsTable().hide()}))}function r(){a(".page.informative-meeting").length<1||a('h1:contains("bijeenkomsten"), h2:contains("bijeenkomsten"), h3:contains("bijeenkomsten")').addClass("mobile-fix").html(function(a,b){return b.split("bijeenkomsten").join("<span>bijeenkomsten</span>")})}function s(){a(document).on("click","div[class$='searchresultitems'] a",function(b){a(b.target).is(".nvao")&&b.preventDefault()})}function j(){a(".cookies").length<1||(i("cookiefloater")&&a(".cookies").remove(),a(".cookies .accept").on("click",function(b){b.preventDefault(),a(".cookies").fadeOut("fast",function(b){a(this).remove(),h("cookiefloater",!0,180)})}))}function t(a){h("doncoitechnieksubnavanimation",a)}function u(){return i("doncoitechnieksubnavanimation")}function v(){if(!(a(".search-results").length<1)){var b=function(){var a=0;return function(b,c){window.clearTimeout(a),a=window.setTimeout(b,c)}}();a('<a class="view-all">Bekijk alle <span></span> resultaten</a>').insertAfter("#synoniemenlijst"),a("a.view-all").click(function(b){a('header .search input[type="submit"]').trigger("click")});var c=[16,17,18,20,33,34,35,36,37,38,39,40,45,46,91,93,112,113,114,115,116,117,118,119,120,121,122,123,144,145],d=null,e=function(b){results=d.closest("div").siblings(".search-results");var c=results.find("#synoniemenlijst"),e=a(".search-results, #synoniemenlijst, a.view-all");if(c.empty().removeAttr("style"),b&&b.Hits.length>0){a(a.map(b.Hits,function(b){return a("<a />",{href:b.Url[0].replace(/~/g,"")+"?bron=autosuggest&searchtext="+a(".searchinput").val(),text:b.Fields.Title}).get(0)})).appendTo(c),e.show(),a("ul.courses").removeClass("toggled"),a("a.view-all span").html(b.Total);var f=a("#synoniemenlijst a").length,g=-1;a(document).keydown(function(b){40==b.keyCode&&(b.preventDefault(),g++,g==f&&(g=0),a("#synoniemenlijst a").eq(g).focus()),38==b.keyCode&&(b.preventDefault(),0==g&&(g=f),g--,a("#synoniemenlijst a").eq(g).focus())})}else e.hide()},f=function(a){console&&console.error&&console.error(a.get_message())};a(".searchinput, .elasticSearchInput").keyup(function(g){d=a(this);var h=this;13===g.keyCode||h.value&&-1===a.inArray(g.keyCode,c)&&b(function(){WebService.ElasticSearch(h.value,1,"",5,"NCOI","opleidingen",e,f)},0)}),a(".search-results").click(function(a){a.stopPropagation()}),a(document).keydown(function(b){27==b.keyCode&&a(".search-results").fadeOut("fast")}),a(".search-results a.close, body").click(function(b){a(".search-results").fadeOut("fast")})}}function w(){if(!(a("header .search").length<1)){var b=a("header .search"),c="toggled";a('<span class="toggle-search" />').insertBefore(b);var d=a("header .search, .toggle-search");a(".toggle-search").off("click").on("click",function(a){d.hasClass(c)?d.removeClass(c):d.addClass(c)}),a("body").on("click",function(a){d.removeClass("toggled")}),a("header, .search").click(function(a){a.stopPropagation()})}}function x(b){function c(a){a.closest(".nav-items").find("."+e).removeClass(e)}function d(a,c){a.toggleClass(e,c),b.trigger("primarynav:change",{state:c})}var e="toggled",f=a(".page-content"),g=f.find(".nav-items");b.on("sidebar:toggled",function(a,b){b.open&&c(g)}),b.on("currentmedia:change",function(a,b){c(g)}),a(".nav-items > li > a").on("click",function(b){var f=a(b.target),g=f.parent(),h=!g.hasClass(e);c(f),f.next().is(".nav-drop-down")&&(b.preventDefault(),d(g,h))});var h=function(){function c(){for(var a in h)h[a].tab.removeClass("active")}function d(b){for(var c in h){var d=c===a(b).parent().data("index")?!0:!1,e=h[c].tab.parent();if(d&&e.hasClass("active"))return e.removeClass("active");e[d?"addClass":"removeClass"]("active")}}var e=f.find(".course-toggler"),g=e.find(".parentTitle"),h={};b.on("primarynav:change",function(a,b){b.state||c()}),b.on("sidebar:toggled",function(a,b){b.open&&c()}),b.on("currentmedia:change",function(a,b){c()}),g.each(function(b,c){var e=a(c);(e.hasClass("is-mobile")||e.hasClass("is-tablet"))&&(h["tab-"+b]={index:b,tab:a(c)},h["tab-"+b].tab.parent().data("index","tab-"+b),h["tab-"+b].tab.on("click",function(a){d(a.target)}))})};new h}function y(b){var c=a(".page-sidebar"),d=c.find(".nav-items"),e=a(".toggler.nav"),f=a(".page-slider"),g=!1;if(c.length){b.on("primarynav:change",function(a,c){if(c.state){g=!1;var d=g?"addClass":"removeClass";f[d]("toggled"),b.trigger("sidebar:toggled",{open:g})}}),e.on("click",function(){g=g?!1:!0;var a=g?"addClass":"removeClass";f[a]("toggled"),b.trigger("sidebar:toggled",{open:g})});var h=function(){function b(b){for(var c in f){var d=c===a(b).parent().data("index")?"addClass":"removeClass";f[c].tab[d]("active"),f[c].pane[d]("active")}}var d=c.find(".nav-tabs li");if(d.length){for(var e=c.find(".tab-content .tab-pane"),f={},g=0;g<d.length;g++)f["tab-"+g]={index:g,tab:a(d[g]),pane:a(e[g])},f["tab-"+g].tab.data("index","tab-"+g),f["tab-"+g].tab.on("click",function(a){a.preventDefault(),b(a.target)});d.on("click",function(a){a.preventDefault()})}};new h;var i=function(c){function e(){var a=g?"addClass":"removeClass";f[a]("selected"),d[a]("open")}var f=a(c),c=f[0],g=!1;b.on("sidebar:toggled",function(a,b){b.open||(g=!1,e())}),b.on("backbtn:clicked",function(a,b){g=!1,e()});var h,i;f.on("click",function(a){h="parentTitle"===a.target.className?!0:!1,i="up-level"===a.target.className?!0:!1,(h||i)&&(a.preventDefault(),g=g?!1:!0,i&&(g=!1),e(),b.trigger("navitem:selected",{$el:f}))})},j=function(b){var c=a(b),b=c[0];if(c.hasClass("has-children")){var d=c.find(".sub-items");d.each(function(a,b){new i(b)})}},k=function(){var a=c.find(".nav-items"),d=a.children("li");b.on("navitem:selected",function(a,b){}),d.each(function(a,b){new j(b)})};return new k,b}}function z(){if(!(a("header").length<1)){var b=a("header"),c=18;a(window).scroll(function(){a(window).scrollTop()>c?(b.addClass("sticky"),a("main").addClass("sticky"),a('input.FormButton[type="submit"]').blur()):(b.removeClass("sticky"),a("main").removeClass("sticky"))}),a(window).scroll()}}function A(){var b,c=a(".ncoitechniek-subnav");c.length<1||(d.setMedia(),d.isDesktop||c.eq(1).hide(),a(window).resize(function(){d.isDesktop||c.eq(1).hide()}),d.isDesktop&&(b=u(),"false"!=b&&(c.hide(),c.delay(1200).slideDown(400),t(!1))))}function B(){function b(b,c,d){if(a("main").hasClass("home")){var e='{ "mobile1" : '+b+', "mobile2" : '+c+', "tabletDesktop" : '+d+" }";h("ncoi-subnav",e,999)}}if(!(a(".subnav").length<1||a("main").hasClass("segment"))){var c=a(".subnav"),d=a(".subnav h4, .subnav .h4"),e=a(".subnav ul"),f="Toon alle niveaus en vakgebieden",g="Toon minder",j=!1,k=!1,l=!1;if(d.addClass("mobile-toggle").click(function(c){c.preventDefault();var d=a(this).parent().index(),e=a(this).parent();e.hasClass("toggled")?(e.removeClass("toggled"),0==d?j=!1:k=!1):(e.addClass("toggled"),0==d?j=!0:k=!0),b(j,k,l)}),e.each(function(b){a("li",this).length>5&&a(".menu-toggle",c).length<1&&a("main").is(".home, .kroonjuweel")&&c.append('<span class="menu-toggle">'+f+"</span>")}),a(".menu-toggle",c).click(function(d){d.preventDefault(),c.hasClass("toggled")?(c.removeClass("toggled"),a(this).html(f),a("main").is(".home")&&a("body, html").animate({scrollTop:c.offset().top-120},"fast"),l=!1):(a(this).html(g),c.addClass("toggled"),l=!0),b(j,k,l)}),i("ncoi-subnav")){if(!a("main").hasClass("kroonjuweel")&&!a("main").hasClass("page-with-submenu"))return;var m=i("ncoi-subnav"),n=JSON.parse(m);j=n.mobile1,k=n.mobile2,l=n.tabletDesktop,j&&a("div:first-child",c).addClass("toggled"),k&&a("div:nth-child(2)",c).addClass("toggled"),l&&(c.addClass("toggled"),a(".menu-toggle").html(g))}a(".content-menu-container").length<1||(a("ul .HighLighted>a",c).click(function(b){a(this).parent().find(".HighLighted").length||b.preventDefault()}),a("ul>li",c).each(function(b){a("ul",this).length&&a(this).addClass("has-child")}))}}function C(){if(!(a("footer").length<1)){var b=a("footer"),c=a('<div class="back-to-top"><span>Terug naar boven</span><a /><span /></div>');c.prependTo(b),a(".back-to-top").off("click").on("click",function(b){b.preventDefault(),a("html, body").animate({scrollTop:0},"fast")})}}function D(){function b(){a("header").hasClass("sticky")||a("header").addClass("sticky"),f=a("header").outerHeight()+10,a("html, body").animate({scrollTop:a(".tabs").offset().top-f},"fast")}if(!(a(".tabs").length<1)){var c=1,d=a(".tabs>ul a, .tabs-content>a"),e=a(".tabs-content>div"),f=0;window.location.href.indexOf("#tab-")>-1&&(c=window.location.href.split("#tab-")[1],setTimeout(b,1)),window.location.href.indexOf("html?")>-1&&setTimeout(function(){var b=a(".filters").length>0?a(".filters").offset().top:0;a("html, body").animate({scrollTop:b},0)},10),a('a[href="#tab-'+c+'"]').addClass("active"),a("#tab-"+c).addClass("active"),a('a[href*="#tab-"]').click(function(c){function f(){d.removeClass("active").removeClass("inactive-mobile"),e.removeClass("active").removeClass("inactive-mobile")}function g(){l.addClass("active"),a("#tab-"+k).addClass("active")}c.preventDefault();var h=!1,i=a(this),j=i.attr("href"),k=j.split("#tab-")[1],l=a('a[href$="#tab-'+k+'"]');i.parent().hasClass("tabs-content")&&(h=!0),h?(!i.hasClass("inactive-mobile")&&i.hasClass("active")?(f(),l.addClass("inactive-mobile"),a("#tab-"+k).addClass("inactive-mobile")):f(),g()):(f(),g()),b()})}}function E(){function b(b){var c=a(b).next().html();a('<label class="radio-wrapper"><span /></label>').insertBefore(b),a(b).prev().find("span").html(c),a(b).next().remove(),a(b).prev().prepend(b)}if(a("select").length>0&&(console.log("lazy loading: jquery.selectordie"),require(["jquery.selectordie"],function(){a("select").selectOrDie()})),!(a(".form").length<1)){a('.form input[type="checkbox"]').each(function(b){a(this).wrapAll('<label class="checkbox-wrapper" />')}),a(".form label.checkbox-wrapper").append("<span />"),a('input[type="radio"]',".form, .opleidings-interesse-formulier").each(function(a){b(this)});var c=".opleidings-interesse-formulier";a(c).parents("#frm").submit(function(d){var e=setInterval(function(){a(c).find(".Error").length>0&&(f(),clearInterval(e))},10),f=function(){0===a(c).find(".radio-wrapper").length&&a(c).find("input[type='radio']").each(function(){b(this)})}})}}function F(b){var c=a(document.getElementById(b)),d=c.closest(".video-container"),e=d.data("ytPlayer");return void 0===e&&"YT"in window&&(e=new YT.Player(b,{height:d.height(),width:d.width(),videoId:c.attr("data-youtube-id"),playerVars:{modestbranding:1,rel:0,wmode:"transparent"}}),d.data("ytPlayer",e)),e}function G(){if(a(".yt-player").length>0){var b=document.createElement("script");b.src="https://www.youtube.com/iframe_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}}function H(){function b(){a(".video-container.playing").each(function(){var b=a(this).find(".yt-player").attr("id");if(void 0!==b){var c=F(b);c.pauseVideo()}})}if(!(a("section.slider").length<1)){var c="ontouchstart"in document.documentElement;a(".video-container .play").click(function(b){$playButton=a(this),$playButton.closest(".video-container").addClass("playing");var c=$playButton.closest(".video-container").find(".yt-player").attr("id"),e=F(c);d.isDesktop&&e.playVideo()}),a("section.slider>div").flexslider({animation:"slide",easing:"easeInOutQuart",useCSS:c,slideshow:!1,keyboard:!0,multipleKeyboard:!0,animationSpeed:300,after:b,animationLoop:!1})}}function I(){if(a(".in-cmsdesk").length<1){var b=a(".segment .summary > div, .vca-planner .summary > div");b.length>0&&(console.log("lazy loading: jquery.shorten"),require(["jquery.shorten"],function(){a(".segment .summary > div, .vca-planner .summary > div").shorten({moreText:"Lees meer",lessText:"Lees minder",showChars:"250"})}))}a(".morelink").click(function(){if("block"==a(".allcontent").css("display")){var b=a("body");a("body, html").animate({scrollTop:b.offset().top-500},"fast")}})}function J(){if(!d.isDesktop&&a(".digitalebrochure, .opleidings-interesse-formulier, .colorbox").length>0){var b=g.getParameterByName("url");b=b.length<1?"javascript:history.back()":b.split("~")[1],a("section.title").before('<div class="mobile-lightbox-header"><a class="back" href="'+b+'" title="terug naar de vorige pagina" /></div>')}a("a.cboxElement.pdf").length<1||a("a.cboxElement.pdf, .triggerPopup").click(function(b){(d.isDesktop||!Modernizr.mq("only all"))&&(b.preventDefault(),k(!0,a(this).attr("href")))})}function K(){a(".form .brochures").length<1||(a(".brochure .checkbox-wrapper input").each(function(){a(this).is(":checked")&&a(this).parents(".brochure").addClass("selected")}),a(".form .brochure").on("click",function(b){b.preventDefault(),a(this).toggleClass("selected");var c=a(".checkbox-wrapper input",this);c.is(":checked");c.prop("checked")?(c.prop("checked",!1),c.removeClass("checked")):(c.prop("checked",!0),c.addClass("checked"))}))}function L(){a("#tab-3").length<1||a("#tab-3 .contenttable a.cboxElement").click(function(b){(d.isDesktop||!Modernizr.mq("only all"))&&(b.preventDefault(),k(!0,a(this).attr("href")))})}function M(){var b="SeasonShowLightbox";if(a("body").on("change",".season-popup #chkbxHideLightbox",function(){a(this).is(":checked")?h(b,"hide",90):h(b,"",90)}),!(a(".season a").length<1||0===a(".seasonlightbox").length||"hide"==i(b)||!d.isDesktop&&Modernizr.mq("only all"))){var c="$('.lightbox span.close').click()",e=a(".seasonlightbox").clone().find("[onclick='parent.$.fn.colorbox.close();']").attr("onclick",c).end().find(".tooltip").toggleClass("tooltip season-popup").end().find(".btn4").toggleClass("btn4 btn").end().find(".hidelightbox").addClass("checkbox");e=N(e),k(!1,e)}}function N(b){return"undefined"==typeof b.contents().html()?b=b.contents().eq(2).wrap("<span />").end().end().wrapInner("<label class='checkbox-wrapper' />").end().html():($temp=a("<div class='temp-clone' style='display: none;' />").appendTo(a("body")),$temp.html(b.closest(".seasonlightbox").html()),$temp.find(".checkbox").wrapInner("<span />").wrapInner("<label class='checkbox-wrapper' />").find("input").prependTo(a(".temp-clone label")).end().end().end().end(),b=$temp.html(),a(".temp-clone").remove()),b}function O(){function b(){a(".wizard").insertBefore(".page-slider").show(),a(".page-slider").addClass("fixed")}function c(){a(".wizard").hasClass("vca-planner")||a(".wizard-footer a").click(function(b){a(this).hasClass("wizard-result")?h("wizard","hide",180):h("wizard","show",180)})}function d(){a(".wizard-close, .wizard-bg").off("click").on("click",function(b){b.preventDefault(),a(".wizard").fadeOut("fast",function(){a(".page-slider").removeClass("fixed"),h("wizard","hide",180)})})}a(".wizard").length<1||(a(".wizard").hide(),a(".home .jumbotron .btn, .vca-planner .btn.vca ").click(function(){console.log("lazy loading: knockout+"),require(["knockout","knockout.mapping","knockout.validation","knockout.jqautocomplete"],function(){a(".wizard").fadeIn("fast",function(){a("html, body").animate({scrollTop:0},300),!a("in-cmsdesk").length<1&&(c(),d()),b()})})}),d(),c(),i("wizard")&&"show"==i("wizard")&&b(),a(".wizard li input[type=checkbox]").each(function(b){a(this).is(":checked")&&a(this).parents("label").addClass("selected")}),a(".wizard li input[type=checkbox]").click(function(){function b(a){d.children("span").text(a.Total)}function c(){}a(this).parents("label").toggleClass("selected"),a(this).blur();var d=a(".wizard-result");if(d.length>0){var e=0,f=0;a(".wizard li input[type=checkbox]").each(function(b){if(a(this).is(":checked")){var c=parseInt(a(this).attr("data-count"));e++,f+=c}})}var g="undefined"!=typeof d.data("requery-after-each-click")&&"true"===d.data("requery-after-each-click").toString()?!0:!1;if(g){var h=d.data("facets-to-apply");a(".wizard-wrapper input:checked").each(function(){h+=(""!==h?"&":"")+d.data("facet-variable")+"="+a(this).val()}),WebService.ElasticSearch(!1,1,h,15,"ncoi2","opleidingen",b,c)}}),a(".wizard li input[type=checkbox]").each(function(){0===a(this).data("count")&&a(this).parents("label").addClass("disabled").click(function(a){a.stopPropagation(),a.preventDefault()})}))}function P(){var b=a(".startmomenten-listing h3");b.on("click",function(){a(this).toggleClass("open").next(".results-container").toggle()});var c=a(".results-container h3");c.on("click",function(){a(this).nextAll(".course-block").toggle(),a(this).toggleClass("open")}),1==b.length&&b.click()}function Q(){if(!(a(".vca-planner").length<1)){a(".search-container .aside.left > div > label").not(".open").next("div").hide(),a(".search-container .aside.left > div > label.open").next("div").show(),a(".search-container .aside.left > div > label").on("click",function(){var b=a(this);b.hasClass("open")?b.removeClass("open").next("div").slideUp():b.addClass("open").next("div").slideDown()});var b=a(".searchresultitems .item").length;a(".vca-planner .filter-results h1 span").text(b),1==b&&a(".vca-planner .filter-results h1 i").hide()}}function R(){"undefined"==typeof Modernizr||Modernizr.input.placeholder||(a("[placeholder]").focus(function(){var b=a(this);b.val()==b.attr("placeholder")&&(b.val(""),b.removeClass("placeholder"))}).blur(function(){var b=a(this);(""==b.val()||b.val()==b.attr("placeholder"))&&(b.addClass("placeholder"),b.val(b.attr("placeholder")))}).blur(),a("[placeholder]").parents("form").submit(function(){a(this).find("[placeholder]").each(function(){var b=a(this);b.val()==b.attr("placeholder")&&b.val("")})}))}function S(){Modernizr.mq("only all")||(a('input[type="checkbox"]:checked, input[type="radio"]:checked').addClass("checked"),a(document).on("change",'input[type="checkbox"]',function(b){a(this).toggleClass("checked").blur(),b.stopPropagation()}),a(document).on("change",'input[type="radio"]',function(b){var c=a(this).attr("name");a('input[type="radio"]').attr("name",c).removeClass("checked"),a(this).addClass("checked").blur()}))}function T(){a(".brochures .brochure:nth-child(5n+1)").addClass("fifth"),a(".informative-meeting .contenttable td:last-child").addClass("last-child")}function U(){var b=a(".teaser.erkendekwaliteit a > img");b.length>0&&(console.log("lazy loading: jquery.colormatrix"),require(["jquery.colormatrix"],function(){b.colorMatrix()}))}function V(b,c,d,e){for(var f=0;f<b.children().length;f++){var g=b.children().eq(f);g.index()>=c&&g.addClass("collapsed")}W(b.filter(function(){return 0!=a(this).children(".collapsed").length}),!1,d,e)}function W(b,c,d,e){var f={};a(b).each(function(){var b=a(this);f=e?{text:"Toon alle "+b.parent().find("label").first().data("label"),alt:"Toon minder "+b.parent().find("label").first().data("label")}:{text:d?"Toon alle "+b.prev("h2").attr("data-label"):"Toon alles",alt:d?"Toon minder "+b.prev("h2").attr("data-label"):"Toon minder"},0==b.next(".showall").length&&b.after('<a href="javascript:;" class="showall" data-alt-text="'+f.alt+'">'+f.text+"</a>")});var g=b.next(".showall");g.unbind("click").click(function(b){g=a(b.target);var d={text:g.text(),alt:g.attr("data-alt-text")};g.attr("data-alt-text",d.text).text(d.alt),c?c.filter(".collapsed").toggleClass("visible"):g.prev().children().filter(".collapsed").toggleClass("visible")})}function X(){if(d.isMobile&&a(".aside.left > div:not(.hidden-fields) ").each(function(b){var c=a(".checkbox-wrapper",this).length;a("label[data-facet]",this).append(" ("+c+")")}),a(".elastic-search:not(.vca-planner) .aside.left").find("label.open").removeClass("open").next().hide(),!a(".aside.left").prev().hasClass("mobile-filter-toggle")){a(".search.is-toggled").css("margin-bottom",0),a(".aside.left").before('<div class="mobile-filter-toggle"><a href="javascript:;" class="toggle-filters" data-alt-text="Filter">Filter</a></div>');var b=a(".mobile-filter-toggle"),c=b.children(".result-count"),e=parseInt(a(".elastic-search h1 > span").text()),f=1!=e?" resultaten ":" resultaat ";c.text(e+f+"gevonden")}}function Y(){var b=5;V(a(".elastic-search .checkboxes").filter(function(){var c=a(this).find('input[type="checkbox"]:checked'),d=c.filter(":last").parents(".checkbox-wrapper").index();return b>d}),b,!1,!0)}var Z=a;a(function(){console.log("document load..")}),a(function(){var b=a({}),c=function(a,c){var e=!1;this.depth=c,this.name=a.name,this.url=a.url?a.url:null,this.toggleActive=function(){e=e?!1:!0,b.trigger("tab:toggle",{name:this.name,active:e})},a.sub&&(this.subItems=new d(this.name,a.sub,this.depth))},d=function(a,b,d){for(var e={navItems:{},name:a,depth:d+=1},f=0;f<b.length;f++){var g=new c(b[f],e.depth);e.navItems[b[f].name]=g}return e},e=function(c){function d(a){return c.name===a.name?e[a.active?"addClass":"removeClass"]("active"):void e.removeClass("active")}var e=a("<li />"),g=a("<a />");return e.html(g),g.html(c.name),g.attr("href",c.url||"#"),e.addClass("depth-"+c.depth),b.on("tab:toggle",function(a,b){d(b)}),g.on("click",function(a){c.subItems&&(a.preventDefault(),c.toggleActive())}),c.subItems&&(e.addClass("subs"),new f({$el:e,collection:c.subItems,sub:!0})),e[0]},f=function(b){var c=b.$el,d=(c[0],a("<ul />")),f=b.collection.navItems;b.sub&&d.addClass("subList"),c.append(d);var g=document.createDocumentFragment();for(var h in f)g.appendChild(new e(f[h]));d.html(g)},g=[];for(var h in window.nav){var i=new d(h,window.nav[h],0);g.push(i)}for(var j=0;j<g.length;j++)new f({$el:a(".primary-navigation-"+g[j].name),collection:g[j]})}),function(a,b){var c=a({});j(),v(),w(),z(),A(),B(),C(),D(),E(),l(),m(),n(c),o(),p(),q(),r(),s(),G(),H(),I(),J(),K(),L(),M(),O(),Q(),P(),x(c),y(c),R(),S(),T(),a(b).load(U)}(Z,window),+function(){var b=function(){var b=a(".unexpandable-subnav"),c=b[0];if(c){var d,e=b.find("h4"),f="show";e.on("click",function(a){d=b.hasClass(f)?"removeClass":"addClass",b[d](f)})}};new b}();var $=function(a,c,e,f){var g=function(){function a(){n="#resultTemplate",m=e(n).ncoiElasticSearch({searchIndex:"ncoi2",resultCount:o(),expandedFacets:3,facetsTarget:".aside.left > div:not('.scrollto-start-marker, .hidden-fields')",deviceIsDesktop:e("html").hasClass("desktop"),dataFinesseHandler:g,countFinesseHandler:j,afterRenderHandler:k})}function c(){var a=e("#divDataAttributes");if(!(a.length<=0)){var b=a.data("facets-to-apply");l=a.data("preselected-facets")?a.data("preselected-facets").replace(/&#39;/,"'"):f;var c=0!==e(".groupedsearchresultitems").length;b!==f?ncoi.ElasticSearch.search(e(n),b,!1,c):l!==f&&ncoi.ElasticSearch.search(e(n),l,!0,c),e(n).data("ncoi.ElasticSearch.defaults").settings.resultCount=o(!0)}}function g(){var a=arguments[0];return a=h(a)}function h(a){return e.map(a.Hits,function(a){if("undefined"!=typeof a.Display){e.map(a.Facets.Hits,function(a){a.AccreditationTooltip=e("#divDataAttributes").data("accreditation-description"),a=i(a)});var b=e(".group[data-group-key='"+a.Key+"']");a.Tooltip=b.find(".tooltip").text().trim(),a.Intro=b.find(".groupIntro").text().trim(),a.ButtonText=b.data("group-button")}else a.AccreditationTooltip=e("#divDataAttributes").data("accreditation-description"),a=i(a)}),a}function i(a){return"string"==typeof a.Url?a.Url=a.Url.replace("~",""):a.Url[0]=a.Url[0].replace("~",""),null!==a.Fields.Title&&(a.Fields.Title=b.unescape(a.Fields.Title)),null!==a.Fields.Content&&(a.Fields.Content=b.unescape(a.Fields.Content)),null!==a.Fields.Summary&&(a.Fields.Summary=b.unescape(a.Fields.Summary)),null!==a.Fields.Question&&(a.Fields.Question=b.unescape(a.Fields.Question)),null!==a.Fields.Answer&&(a.Fields.Answer=b.unescape(a.Fields.Answer)),"blogpost"===a.Type?a.Fields.Level="Blog":"faqitem"===a.Type?a.Fields.Level="FAQ":"contentitem"===a.Type&&(a.Fields.Level="Pagina"),a}function j(){return arguments[0].replace("(","").replace(")","")}function k(){return!0}var l,m=f,n=f,o=function(a){if(e(".groupedsearchresultitems").length>0){var b=5;return(!d.isMobile||a)&&(b=999),b}return 15};return{init:a,search:c}}();return{ElasticSearch:g}}(window,window.document,Z);return a("body").on("click",".mobile-filter-toggle a",function(){var b=a(this),c={label:b.text(),alt:b.attr("data-alt-text")};a(".aside.left").slideToggle(300),b.attr("data-alt-text",c.label).text(c.alt),b.parent().toggleClass("open")}),Z(function(){if(!(a(".elastic-search").length<=0)){X(),Y();var b=a(".elastic-search .aside.left");b.ncoiAddScrollLink({endMarkAfter:a(".elastic-search .container-fluid > .row"),scrollOffset:-20}),a(".scrollto-facets.visible-xs").click(function(b){b.preventDefault();var c=this.hash.replace("#",""),d=a("*[name='"+c+"']").prev();console.log("lazy loading: jquery.scrollto"),require(["jquery.scrollto"],function(){a(window).scrollTo(d,300,{offset:-80})})}),$.ElasticSearch.init(),$.ElasticSearch.search()}}),null});